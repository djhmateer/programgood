<?xml version="1.0" encoding="utf-8"?>
<DayEntry xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="urn:newtelligence-com:dasblog:runtime:data">
  <Date>2010-06-28T20:00:00-04:00</Date>
  <Entries>
    <Entry>
      <Content>&lt;p&gt;see about half way down this article for the first working MVC1 app connecting to the db.&lt;/p&gt;  &lt;p&gt;&lt;a title="http://wag.codeplex.com/" href="http://wag.codeplex.com/"&gt;http://wag.codeplex.com/&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Using the EntLib5&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_2.png"&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_thumb.png" width="400" height="484" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Music Store App (Mar 23rd)&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_4.png"&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_thumb_1.png" width="616" height="484" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Hello World sample bits of code from MS:&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_6.png"&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_thumb_2.png" width="616" height="484" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;Transferring data up to SQL Azure.. using Script Manager in SQL Man Studio 2008.. &lt;/p&gt;  &lt;p&gt;&lt;a title="http://www.msteched.com/2010/NorthAmerica/COS311" href="http://www.msteched.com/2010/NorthAmerica/COS311"&gt;http://www.msteched.com/2010/NorthAmerica/COS311&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;h3&gt;Doing a Simple MVC Application and Publishing up to the Cloud (no DB)&lt;/h3&gt;  &lt;p&gt;This is a simple new project, Cloud Service, ASP.NET MVC2 Web Role&lt;/p&gt;  &lt;p&gt;Right click on the VoucherMVC project, then publish.&amp;#160; Upload via the Web Interface. &lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_8.png"&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_thumb_3.png" width="644" height="335" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;h3&gt;NerdDinner&lt;/h3&gt;  &lt;p&gt;&lt;a title="http://www.marcmywords.org/post/NerdDinner-hosted-on-Windows-Azure-and-SQL-Azure.aspx" href="http://www.marcmywords.org/post/NerdDinner-hosted-on-Windows-Azure-and-SQL-Azure.aspx"&gt;http://www.marcmywords.org/post/NerdDinner-hosted-on-Windows-Azure-and-SQL-Azure.aspx&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Failed to generate a user instance due to a failure in starting the process… DB Error:&amp;#160; Solved by deleting a directory on my local machine (Win 7).&lt;/p&gt;  &lt;p&gt;&lt;a title="http://www.aspdotnetfaq.com/Faq/fix-error-Failed-to-generate-a-user-instance-of-SQL-Server-due-to-a-failure-in-starting-the-process-for-the-user-instance.aspx" href="http://www.aspdotnetfaq.com/Faq/fix-error-Failed-to-generate-a-user-instance-of-SQL-Server-due-to-a-failure-in-starting-the-process-for-the-user-instance.aspx"&gt;http://www.aspdotnetfaq.com/Faq/fix-error-Failed-to-generate-a-user-instance-of-SQL-Server-due-to-a-failure-in-starting-the-process-for-the-user-instance.aspx&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;h5&gt;Populating the Database&lt;/h5&gt;  &lt;p&gt;&lt;a title="http://azurefeeds.com/post/923/Migrating_an_Existing_ASP.NET_App_to_run_on_Windows_Azure.aspx" href="http://azurefeeds.com/post/923/Migrating_an_Existing_ASP.NET_App_to_run_on_Windows_Azure.aspx"&gt;http://azurefeeds.com/post/923/Migrating_an_Existing_ASP.NET_App_to_run_on_Windows_Azure.aspx&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Showing how to export a SQL script into SQL Azure format:&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_10.png"&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_thumb_4.png" width="345" height="484" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Ok, have got nerddinner database up there.&amp;#160; &lt;/p&gt;  &lt;h5&gt;ASP.NET Membership Provider..&lt;/h5&gt;  &lt;p&gt;&lt;a title="http://blogs.msdn.com/b/jnak/archive/2009/11/24/asp-net-provider-scripts-for-sql-azure.aspx" href="http://blogs.msdn.com/b/jnak/archive/2009/11/24/asp-net-provider-scripts-for-sql-azure.aspx"&gt;http://blogs.msdn.com/b/jnak/archive/2009/11/24/asp-net-provider-scripts-for-sql-azure.aspx&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&lt;a title="http://www.marcmywords.org/post/NerdDinner-hosted-on-Windows-Azure-and-SQL-Azure.aspx" href="http://www.marcmywords.org/post/NerdDinner-hosted-on-Windows-Azure-and-SQL-Azure.aspx"&gt;http://www.marcmywords.org/post/NerdDinner-hosted-on-Windows-Azure-and-SQL-Azure.aspx&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Details how to get the asp.net membership provider scripts working, using modified scripts.&lt;/p&gt;  &lt;p&gt;&lt;a title="http://support.microsoft.com/kb/2006191/en-gb" href="http://support.microsoft.com/kb/2006191/en-gb"&gt;http://support.microsoft.com/kb/2006191/en-gb&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;h3&gt;Issue with NerdDinner MVC2&lt;/h3&gt;  &lt;p&gt;Came across realm issue with regard to OpenID code, so reverted back to MVC1 code.&lt;/p&gt;  &lt;h3&gt;NerdDinner MVC1 Migrate to Azure – This Worked&lt;/h3&gt;  &lt;p&gt;Get it working normally in MVC (with 2 databases running SQLExpress in AppData folder)&lt;/p&gt;  &lt;p&gt;Getting the Phone# does not match country error in nerddinner.&lt;/p&gt;  &lt;p&gt;hacked the Helper/PhoneValidator.cs to always return true.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_12.png"&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_thumb_5.png" width="655" height="480" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Deleted the unit test project for simplicity&lt;/p&gt;  &lt;p&gt;Added a CloudService project into the solution&lt;/p&gt;  &lt;p&gt;Right clicked on Role in CloudService, and added in the existing NerdDinner project&lt;/p&gt;  &lt;p&gt;Added back in ConnectionStrings.config into the NerdDinner project&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_14.png"&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_thumb_6.png" width="347" height="447" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;Coppied the database to SQL Azure using Management Studio 2008R2&lt;/p&gt;  &lt;p&gt;Coppied Membership Provider to SQL Azure using special sql scripts&lt;/p&gt;  &lt;p&gt;Added in ConnectionStrings.config into the project, and put in SQL Azure string.&lt;/p&gt;  &lt;p&gt;Uploaded to Azure.. &lt;/p&gt;  &lt;p&gt;**problem goes between stopping and initializing… after 20mins?&lt;/p&gt;  &lt;p&gt;Try recreating Service in Asia, and DB is in Asia too.&lt;/p&gt;  &lt;p&gt;Try uploading again.. and putting one in staging too ( a simple MVC no database, includes test project, worked before).&amp;#160; 9:50pm started.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_18.png"&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_thumb_8.png" width="618" height="484" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;App does work from local using SQL Azure as storage.. &lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_16.png"&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_thumb_7.png" width="530" height="484" /&gt;&lt;/a&gt; &lt;/p&gt;  &lt;p&gt;After sleeping on it, the problem was that copy local wasn’t set to true on the System.Web.Mvc reference.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_20.png"&gt;&lt;img style="border-right-width: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/WindowsLiveWriter/AzureandMVCGettingSimpleSiteGoing_9829/image_thumb_9.png" width="326" height="484" /&gt;&lt;/a&gt;&lt;/p&gt;</Content>
      <Created>2010-06-28T23:19:58.238125-04:00</Created>
      <Modified>2010-06-28T23:19:58.238125-04:00</Modified>
      <EntryId>179c9ee3-ec19-4664-8ab7-1576a7dcb4d2</EntryId>
      <Description />
      <Title>Azure, MVC and SQL Azure – Populating the Database</Title>
      <Categories>ASP.NET MVC;Azure</Categories>
      <Author>admin</Author>
      <IsPublic>true</IsPublic>
      <Syndicated>true</Syndicated>
      <ShowOnFrontPage>true</ShowOnFrontPage>
      <AllowComments>true</AllowComments>
      <Attachments />
      <Crossposts />
      <Latitude xsi:nil="true" />
      <Longitude xsi:nil="true" />
    </Entry>
  </Entries>
</DayEntry>