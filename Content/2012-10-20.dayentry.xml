<?xml version="1.0" encoding="utf-8"?>
<DayEntry xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="urn:newtelligence-com:dasblog:runtime:data">
  <Date>2012-10-19T20:00:00-04:00</Date>
  <Entries>
    <Entry>
      <Content>&lt;ul&gt;   &lt;li&gt;Auto creation of CRUD methods for entities &lt;/li&gt;    &lt;li&gt;Auto generation and sync of service methods and their client side proxies &lt;/li&gt;    &lt;li&gt;Validation rules / arbitrary business logic methods that are shared &lt;/li&gt;    &lt;li&gt;ASP.NET Security &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_52.png"&gt;&lt;img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_25.png" width="413" height="231" /&gt;&lt;/a&gt;    &lt;br /&gt;UI Tooltips, validation requires no trip to server.&amp;#160; Child window spins round from login.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_54.png"&gt;&lt;img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_26.png" width="244" height="185" /&gt;&lt;/a&gt;    &lt;br /&gt;Default membership provider uses a db for developers as default.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_2.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb.png" width="1170" height="325" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Text values help in ApplicationStrings resource file&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_4.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_1.png" width="649" height="44" /&gt;&lt;/a&gt;     &lt;br /&gt;Wiring it up&lt;/p&gt;  &lt;h3&gt;Exposing Data with the Domain Service&lt;/h3&gt;  &lt;p&gt;AdventureWorksEntities.edmx&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_6.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_2.png" width="615" height="365" /&gt;&lt;/a&gt;     &lt;br /&gt;The template creates the INCORRECT edmx file for RIA&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_12.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_5.png" width="244" height="111" /&gt;&lt;/a&gt;     &lt;br /&gt;Correct – default code gen strategy&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_8.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_3.png" width="482" height="304" /&gt;&lt;/a&gt;     &lt;br /&gt;Top level Visual C# already installed&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_10.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_4.png" width="314" height="388" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;2 classes created in the services folder:&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;EmployeeServics. &lt;/li&gt;    &lt;li&gt;EmployeeService.metadata.cs &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;Conventions&lt;/p&gt;  &lt;p&gt;Query&lt;/p&gt;  &lt;blockquote&gt;   &lt;p&gt;LINQ to Entities and EF&lt;/p&gt; &lt;/blockquote&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_14.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_6.png" width="697" height="189" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Query methods fall into three primary buckets:    &lt;br /&gt;■ Methods returning a single concrete instance of an entity     &lt;br /&gt;■ Methods returning a collection or enumerable of zero or more entities     &lt;br /&gt;■ Methods returning an IQueryable of the entity&lt;/p&gt;  &lt;h3&gt;Composed Queries&lt;/h3&gt;  &lt;p&gt;Can have the Grid bound to GetSalariedEmployees then it can do sorting/paging/filtering on that query.. but all done on the SQL Server&lt;/p&gt;  &lt;p&gt;PreSorted data on server:&lt;/p&gt;  &lt;p&gt;public IQueryable&amp;lt;Employee&amp;gt; GetEmployeesSorted()    &lt;br /&gt;{     &lt;br /&gt;return from Employee emp in ObjectContext.Employees     &lt;br /&gt;orderby emp.Title, emp.HireDate     &lt;br /&gt;select emp;     &lt;br /&gt;}&lt;/p&gt;  &lt;p&gt;   &lt;br /&gt;and use it like this on the client:     &lt;br /&gt;EmployeeContext context = new EmployeeContext();     &lt;br /&gt;EntityQuery&amp;lt;Employee&amp;gt; query =     &lt;br /&gt;from emp in context.GetEmployeesSortedQuery()     &lt;br /&gt;where emp.SalariedFlag == true     &lt;br /&gt;select emp;&lt;/p&gt;  &lt;p&gt;2 steps happen together on the server.&lt;/p&gt;  &lt;h3&gt;Insert, Update, and Delete Methods&lt;/h3&gt;  &lt;p&gt;update, coppies…&lt;/p&gt;  &lt;h3&gt;Invoke&lt;/h3&gt;  &lt;p&gt;Perform a calculation or return a piece of data eg CalculateVacationBonus which returns an int.&lt;/p&gt;  &lt;p&gt;Used where we don’t need:&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;Change tracking&lt;/li&gt;    &lt;li&gt;Deferred execution&lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;Shouldn’t be used to load data&lt;/p&gt;  &lt;h3&gt;Using Domain Service from Silverlight&lt;/h3&gt;  &lt;ul&gt;   &lt;li&gt;Connect via code &lt;/li&gt;    &lt;li&gt;Connect via XAML (easiest) &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_18.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_8.png" width="392" height="101" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_20.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_9.png" width="406" height="116" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_22.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_10.png" width="660" height="275" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_24.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_11.png" width="543" height="213" /&gt;&lt;/a&gt;     &lt;br /&gt;This client side LINQ will be executed on the SQL Server.&lt;/p&gt;  &lt;h3&gt;DomainDataSource Control&lt;/h3&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_26.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_12.png" width="746" height="223" /&gt;&lt;/a&gt;     &lt;br /&gt;No code in code behind.&amp;#160; Had to add a reference to System.Windows.Controls.DomainServices&lt;/p&gt;  &lt;h3&gt;Filtering, Sorting, Grouping and Paging&lt;/h3&gt;  &lt;p&gt;One of the most compelling reasons to use DomainDataSource!&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_28.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_13.png" width="650" height="338" /&gt;&lt;/a&gt;     &lt;br /&gt;Filters on each letter pressed&lt;/p&gt;  &lt;p&gt;FilterDescriptors – in our case we are using Contains.&amp;#160; Can use this descriptors to create any query&lt;/p&gt;  &lt;h3&gt;Sorting&lt;/h3&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_16.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_7.png" width="537" height="248" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;lt;riaControls:DomainDataSource.SortDescriptors&amp;gt;    &lt;br /&gt;&amp;lt;riaControls:SortDescriptor Direction=&amp;quot;Ascending&amp;quot;     &lt;br /&gt;PropertyPath=&amp;quot;Title&amp;quot; /&amp;gt;     &lt;br /&gt;&amp;lt;riaControls:SortDescriptor Direction=&amp;quot;Ascending&amp;quot;     &lt;br /&gt;PropertyPath=&amp;quot;HireDate&amp;quot; /&amp;gt;     &lt;br /&gt;&amp;lt;/riaControls:DomainDataSource.SortDescriptors&amp;gt;&lt;/p&gt;  &lt;p&gt;Note how the grid knows what has been sorted (arrows) by default.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_30.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_14.png" width="714" height="110" /&gt;&lt;/a&gt;     &lt;br /&gt;Sorting was done on the SQL Server.&lt;/p&gt;  &lt;h3&gt;Grouping&lt;/h3&gt;  &lt;p&gt;&amp;lt;riaControls:DomainDataSource.GroupDescriptors&amp;gt;    &lt;br /&gt;&amp;lt;riaControls:GroupDescriptor PropertyPath=&amp;quot;Title&amp;quot; /&amp;gt;     &lt;br /&gt;&amp;lt;/riaControls:DomainDataSource.GroupDescriptors&amp;gt;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_32.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_15.png" width="675" height="244" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;h3&gt;Paging&lt;/h3&gt;  &lt;ul&gt;   &lt;li&gt;Preload everything and allow scrolling &lt;/li&gt;    &lt;li&gt;Infinite scroll that performs lazy fetching &lt;/li&gt;    &lt;li&gt;Data paging &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;PageSize 15 &lt;/li&gt;    &lt;li&gt;LoadSize 30 &lt;/li&gt;    &lt;li&gt;DataPager control &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;this would make every other page hit the database&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_34.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_16.png" width="465" height="127" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;h3&gt;Updating Data&lt;/h3&gt;  &lt;p&gt;Using the DataForm UI&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_36.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_17.png" width="213" height="301" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&amp;lt;sdk:DataGrid x:Name=&amp;quot;EmployeeGrid&amp;quot; ItemsSource=&amp;quot;{Binding Data, ElementName=DataSource}&amp;quot; Grid.Column=&amp;quot;0&amp;quot; Margin=&amp;quot;5,38,5,5&amp;quot; /&amp;gt;&lt;/p&gt;  &lt;p&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; &amp;lt;dataForm:DataForm Grid.Column=&amp;quot;1&amp;quot; Margin=&amp;quot;5 40 0 40&amp;quot;    &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; ItemsSource=&amp;quot;{Binding Data, ElementName=DataSource}&amp;quot;     &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; CurrentItem=&amp;quot;{Binding SelectedItem,ElementName=EmployeeGrid, Mode=TwoWay}&amp;quot; /&amp;gt;&lt;/p&gt;  &lt;p&gt;Note how binding it TwoWay for current navigation so can use either view to navigate through data.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_38.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_18.png" width="244" height="172" /&gt;&lt;/a&gt;     &lt;br /&gt;Save changes button.&amp;#160; It is greyed out until there are actual changes which means you have to click to anothe box before you can click on Submit&lt;/p&gt;  &lt;p&gt;&amp;lt;Button x:Name=&amp;quot;SubmitChanges&amp;quot;    &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; Grid.Column=&amp;quot;1&amp;quot; Margin=&amp;quot;5&amp;quot;     &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; HorizontalAlignment=&amp;quot;Right&amp;quot;     &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; VerticalAlignment=&amp;quot;Top&amp;quot;     &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; Height=&amp;quot;25&amp;quot; Width=&amp;quot;120&amp;quot;     &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; Command=&amp;quot;{Binding SubmitChangesCommand, ElementName=DataSource}&amp;quot;     &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160;&amp;#160; Content=&amp;quot;Submit Changes&amp;quot; /&amp;gt;&lt;/p&gt;  &lt;h3&gt;Calling an Invoke Operation from the Client&lt;/h3&gt;  &lt;p&gt;asd&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_40.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_19.png" width="495" height="397" /&gt;&lt;/a&gt;     &lt;br /&gt;Calling ‘server side’ logic to calculate the vacation bonus.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_42.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_20.png" width="329" height="215" /&gt;&lt;/a&gt;     &lt;br /&gt;Server side logic in EmloyeeService.&amp;#160; Notice the method takes only 1 paramter, but we’re calling it with 3 above – a callback and a Data.&amp;#160; The Data in this case is an Employee, which we need to use in the callback to update the object (VacationHours)&lt;/p&gt;  &lt;p&gt;The entity is then marked as HasChanges=true, so then it is eligible for SubmitChanges call ie Submit button goes ungrey.&lt;/p&gt;  &lt;h3&gt;ToolTips and Validation&lt;/h3&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_44.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_21.png" width="244" height="123" /&gt;&lt;/a&gt;     &lt;br /&gt;Tooltip on BirthDate now works&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_46.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_22.png" width="464" height="46" /&gt;&lt;/a&gt;     &lt;br /&gt;Editing the server side EmployeeService.metadata.cs&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_48.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_23.png" width="244" height="200" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_50.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/AppB--_DAC6/image_thumb_24.png" width="528" height="50" /&gt;&lt;/a&gt;     &lt;br /&gt;EmployeeService.metadata.cs, Employee, EmployeeMetaData nested class&lt;/p&gt;</Content>
      <Created>2012-10-20T05:54:35.4379462-04:00</Created>
      <Modified>2012-10-22T08:04:44.2523642-04:00</Modified>
      <EntryId>ec25393b-e4f8-40a2-8d01-db9c7a8be147</EntryId>
      <Description />
      <Title>AppD–Intro to WCF RIA Services</Title>
      <Categories>RIA Services;Silverlight</Categories>
      <Author>admin</Author>
      <IsPublic>true</IsPublic>
      <Syndicated>true</Syndicated>
      <ShowOnFrontPage>true</ShowOnFrontPage>
      <AllowComments>true</AllowComments>
      <Attachments />
      <Crossposts />
      <Latitude xsi:nil="true" />
      <Longitude xsi:nil="true" />
    </Entry>
    <Entry>
      <Content>&lt;p&gt;Continued Ch33&lt;/p&gt;  &lt;p&gt;Have seen how to pull code out of the code-behind and into ViewModel, and then out of the ViewModel into Services.&lt;/p&gt;  &lt;blockquote&gt;   &lt;ul&gt;     &lt;li&gt;less brittle &lt;/li&gt;      &lt;li&gt;testable &lt;/li&gt;      &lt;li&gt;reuasblep &lt;/li&gt;   &lt;/ul&gt; &lt;/blockquote&gt;  &lt;p&gt;Ways for XAML elements to invoke methods in the ViewModel:&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;ICommand – traditional and supported in most MVVM toolkits &lt;/li&gt;    &lt;li&gt;CallMethodAction – introduced in Expression Blend 4 &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;Commands and CallMethodAction are a great way to separate the View from ViewModel, keeping the contract at just a binding statement or name of a method.&lt;/p&gt;  &lt;h3&gt;ICommand&lt;/h3&gt;  &lt;p&gt;More Vacation button disabled by default&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_2.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_thumb.png" width="687" height="124" /&gt;&lt;/a&gt;     &lt;br /&gt;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_4.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_thumb_1.png" width="349" height="201" /&gt;&lt;/a&gt;     &lt;br /&gt;AddVacationBonusCommand is a property on EmployeeListViewModel&lt;/p&gt;  &lt;h3&gt;CallMethodAction&lt;/h3&gt;  &lt;p&gt;Introduced with Expression Blend4 – an easy and designer friendly way to wire any event from any control to a method.&lt;/p&gt;  &lt;p&gt;Installed Expression Blend Preview for Silverlight 5.&lt;/p&gt;  &lt;p&gt;reference Microsoft.Expression.Interactions, System.Windows.Interactivity&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_6.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_thumb_2.png" width="740" height="182" /&gt;&lt;/a&gt;     &lt;br /&gt;Easy way to wire up a button click whilst not being tightly coupled.&lt;/p&gt;  &lt;h3&gt;View Specific Entities&lt;/h3&gt;  &lt;p&gt;eg not using Employee object all the way to the UI.&amp;#160; If employee changes in the db, then have to change the UI.&lt;/p&gt;  &lt;p&gt;So update all client side places that once used Employee to use EmployeeViewModel.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_8.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_thumb_3.png" width="646" height="253" /&gt;&lt;/a&gt;     &lt;br /&gt;Just surfacing the required data to the UI using EmployeeViewModel class which the EmployeeListViewModel uses&lt;/p&gt;  &lt;h3&gt;Interfaces, IoC and ViewModel Locators&lt;/h3&gt;  &lt;p&gt;EmployeeList View is tightly coupled to EmployeeListViewModel&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_10.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_thumb_4.png" width="478" height="241" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Similarly the EmployeeListViewModel is tightly coupled to the EmployeeDataService and EmployeeVacationBonusService.&lt;/p&gt;  &lt;ul&gt;   &lt;li&gt;can be useful to not have this if want to swap out datastore &lt;/li&gt; &lt;/ul&gt;  &lt;p&gt;Leave for now and see what can do with testing without this..&lt;/p&gt;  &lt;h3&gt;Testing&lt;/h3&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_12.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_thumb_5.png" width="291" height="229" /&gt;&lt;/a&gt;     &lt;br /&gt;Need to set the correct aspx as start page otherwise it will try to run the test project.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://silverlight.codeplex.com/releases/view/78435"&gt;http://silverlight.codeplex.com/releases/view/78435&lt;/a&gt; – Silverlight 5 Toolkit&lt;/p&gt;  &lt;p&gt;Silverlight Unit Testing Framework..didn’t install the templates into VS2012&lt;/p&gt;  &lt;p&gt;&lt;a href="http://visualstudiogallery.msdn.microsoft.com/caca1e81-becb-41e4-9110-bc247f3f400b?SRC=Home"&gt;http://visualstudiogallery.msdn.microsoft.com/caca1e81-becb-41e4-9110-bc247f3f400b?SRC=Home&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;C:\Program Files (x86)\Microsoft SDKs\Silverlight\v5.0\Toolkit\dec11\Testing&amp;#160; - DLLs are here&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_14.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_thumb_6.png" width="409" height="180" /&gt;&lt;/a&gt;     &lt;br /&gt;Got this working on already existing templates&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_16.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_thumb_7.png" width="420" height="214" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;h3&gt;Testing the EmployeeListViewModel&lt;/h3&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_18.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_thumb_8.png" width="330" height="482" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Using NUnit&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.frenk.com/2011/11/silverlight-unit-testing-with-nunit-yes-you-can-without-hacks/"&gt;http://www.frenk.com/2011/11/silverlight-unit-testing-with-nunit-yes-you-can-without-hacks/&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Test 'MvvmApplication.NUnitTests.EmployeeListViewModelTests.SelectedEmployeeCanBeSetAndRetrieved' failed: System.IO.FileNotFoundException : Could not load file or assembly 'System.Windows, Version=5.0.5.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e' or one of its dependencies. The system cannot find the file specified.    &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; at MvvmApplication.ViewModels.EmployeeListViewModel..ctor()     &lt;br /&gt;&amp;#160;&amp;#160;&amp;#160; Class1.cs(20,0): at MvvmApplication.NUnitTests.EmployeeListViewModelTests.SelectedEmployeeCanBeSetAndRetrieved()&lt;/p&gt;  &lt;p&gt;Could use SilverUnit which doesn’t have these issues.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://stackoverflow.com/questions/10891403/silverlight-5-and-nunit"&gt;http://stackoverflow.com/questions/10891403/silverlight-5-and-nunit&lt;/a&gt; – had to add in System.Windows into the Unit Testing project from C:\Program Files (x86)\Reference Assemblies\Microsoft\Framework\Silverlight\v5.0&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_20.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_thumb_9.png" width="177" height="167" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;I added in a normal project reference for MvvmApplication.Core as got version conflicts when just adding the dll from debug (however I get a warning doing it this way)&lt;/p&gt;  &lt;h3&gt;Async Testing&lt;/h3&gt;  &lt;p&gt;Added in System.ServiceModel into the Nunit project.&lt;/p&gt;  &lt;p&gt;The SilverlightTest base class supplies the critical EnqueueTestComple method, that tells the test framework that the method is complete and can release it from its holding pattern created by the async attribute.&lt;/p&gt;  &lt;p&gt;**can’t easily create a new unit test project.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_22.png"&gt;&lt;img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/SL-Separation-from-UI-and-Testing_EB66/image_thumb_10.png" width="501" height="286" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Copied old test project across, then wired up the .Web project to include the newly copied project.&lt;/p&gt;  &lt;p&gt;So can now do tests with TestDriven.NET on the ViewModels, and the SL Test Runner on Async.&lt;/p&gt;  &lt;p&gt;&amp;#160;&lt;/p&gt;  &lt;p&gt;&lt;a href="http://code.google.com/p/nunit-silverlight/"&gt;http://code.google.com/p/nunit-silverlight/&lt;/a&gt; – unofficial port of unit for SL …Nov 2010.&amp;#160; SL4&lt;/p&gt;  &lt;p&gt;&lt;a href="http://agunit.codeplex.com/"&gt;http://agunit.codeplex.com/&lt;/a&gt; – R# plugin to allow unit test to run… supports:&amp;#160; MS Test Framework for SL Toolkit, NUnit-Silverlight, xUnitContrib-Silverlight… quite up to date 2012.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://blogs.msdn.com/b/bharry/archive/2012/07/09/coded-ui-testing-support-for-silverlight.aspx"&gt;http://blogs.msdn.com/b/bharry/archive/2012/07/09/coded-ui-testing-support-for-silverlight.aspx&lt;/a&gt; – coded UI support for SL 5.&lt;/p&gt;</Content>
      <Created>2012-10-20T04:36:06.8216771-04:00</Created>
      <Modified>2012-10-20T04:36:06.8216771-04:00</Modified>
      <EntryId>83a72189-af41-4432-b5a7-abb12925fe4f</EntryId>
      <Description />
      <Title>SL Separation from UI and Testing</Title>
      <Categories>MVVM;Silverlight</Categories>
      <Author>admin</Author>
      <IsPublic>true</IsPublic>
      <Syndicated>true</Syndicated>
      <ShowOnFrontPage>true</ShowOnFrontPage>
      <AllowComments>true</AllowComments>
      <Attachments />
      <Crossposts />
      <Latitude xsi:nil="true" />
      <Longitude xsi:nil="true" />
    </Entry>
  </Entries>
</DayEntry>