<?xml version="1.0" encoding="utf-8"?>
<DayEntry xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns="urn:newtelligence-com:dasblog:runtime:data">
  <Date>2012-04-01T20:00:00-04:00</Date>
  <Entries>
    <Entry>
      <Content>&lt;p&gt;How to do this elegantly?&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/Web-Forms-Authentication_99DB/image_2.png"&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/Web-Forms-Authentication_99DB/image_thumb.png" width="177" height="244" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Could use the AspNetMembershipProvider.&amp;#160; Just&amp;#160; need to put in a MembersOnly.aspx page into account and it all works.&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/Web-Forms-Authentication_99DB/image_4.png"&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/Web-Forms-Authentication_99DB/image_thumb_1.png" width="644" height="457" /&gt;&lt;/a&gt;&lt;/p&gt;    &lt;p&gt;However this is complex.&amp;#160; I only want a single username and password to to get to the MembersOnly page and no backend db.&amp;#160; Ideally I’d also like this to be testable too.&lt;/p&gt;  &lt;h3&gt;Publish to Amazon EC2&lt;/h3&gt;  &lt;p&gt;Simplest thing is to publish my website in VS2010 to my filesystem, then copy paste the files up to EC2 using remote desktop.&lt;/p&gt;  &lt;p&gt;Had to set the default app pool to .NET4 (advanced settings in IIS Manager)&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/Web-Forms-Authentication_99DB/image_6.png"&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/Web-Forms-Authentication_99DB/image_thumb_2.png" width="244" height="231" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;and to set write permissions on a newly created App_Data folder for&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/Web-Forms-Authentication_99DB/image_8.png"&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/Web-Forms-Authentication_99DB/image_thumb_3.png" width="244" height="144" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;SQL Express problems on the server&lt;/p&gt;  &lt;p&gt;Changed web.config on the server to point to IP-0AEB5367 instead of .\SQLEXPRESS&lt;/p&gt;  &lt;p&gt;&lt;a href="http://www.programgood.net/content/binary/Windows-Live-Writer/Web-Forms-Authentication_99DB/image_10.png"&gt;&lt;img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://www.programgood.net/content/binary/Windows-Live-Writer/Web-Forms-Authentication_99DB/image_thumb_4.png" width="244" height="212" /&gt;&lt;/a&gt;&lt;/p&gt;  &lt;p&gt;Changed &lt;a title="http://support.microsoft.com/kb/2002980" href="http://support.microsoft.com/kb/2002980"&gt;http://support.microsoft.com/kb/2002980&lt;/a&gt;&amp;#160;&amp;#160; application pool identity to network service.&lt;/p&gt;  &lt;h3&gt;OnAuthenticate&lt;/h3&gt;  &lt;p&gt;&lt;a href="http://www.netomatix.com/development/logincontrolbasic.aspx"&gt;http://www.netomatix.com/development/logincontrolbasic.aspx&lt;/a&gt;&lt;/p&gt;      &lt;div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9ce6104f-a9aa-4a17-a79f-3a39532ebf7c:4d870c1d-d9bf-4dd7-9bec-ce3cebf9978a" class="wlWriterEditableSmartContent"&gt; &lt;div style="border: #000080 1px solid; color: #000; font-family: 'Courier New', Courier, Monospace; font-size: 10pt"&gt; &lt;div style="background-color: #ffffff; overflow: auto; padding: 2px 5px; white-space: nowrap"&gt;&lt;span style="color:#0000ff"&gt;public&lt;/span&gt; &lt;span style="color:#0000ff"&gt;partial&lt;/span&gt; &lt;span style="color:#0000ff"&gt;class&lt;/span&gt; &lt;span style="color:#2b91af"&gt;Login&lt;/span&gt; : System.Web.UI.&lt;span style="color:#2b91af"&gt;Page&lt;/span&gt;&lt;br&gt;     {&lt;br&gt;         &lt;span style="color:#008000"&gt;//wired up from the control&lt;/span&gt;&lt;br&gt;         &lt;span style="color:#0000ff"&gt;protected&lt;/span&gt; &lt;span style="color:#0000ff"&gt;void&lt;/span&gt; OnAuthenticate(&lt;span style="color:#0000ff"&gt;object&lt;/span&gt; sender, &lt;span style="color:#2b91af"&gt;AuthenticateEventArgs&lt;/span&gt; e)&lt;br&gt;         {&lt;br&gt;             &lt;span style="color:#0000ff"&gt;if&lt;/span&gt; ((LoginUser.UserName == &lt;span style="color:#a31515"&gt;&amp;quot;dave&amp;quot;&lt;/span&gt;) &amp;amp;&amp;amp; (LoginUser.Password == &lt;span style="color:#a31515"&gt;&amp;quot;letmein&amp;quot;&lt;/span&gt;))&lt;br&gt;                 e.Authenticated = &lt;span style="color:#0000ff"&gt;true&lt;/span&gt;;&lt;br&gt;             &lt;span style="color:#0000ff"&gt;else&lt;/span&gt;&lt;br&gt;                 e.Authenticated = &lt;span style="color:#0000ff"&gt;false&lt;/span&gt;;&lt;br&gt;         }&lt;br&gt; &lt;br&gt;         &lt;span style="color:#008000"&gt;//so if a user links to Secure/Page3.aspx they are redirected to Page2.aspx on successful login&lt;/span&gt;&lt;br&gt;         &lt;span style="color:#0000ff"&gt;protected&lt;/span&gt; &lt;span style="color:#0000ff"&gt;void&lt;/span&gt; OnLoggedIn(&lt;span style="color:#0000ff"&gt;object&lt;/span&gt; sender, &lt;span style="color:#2b91af"&gt;EventArgs&lt;/span&gt; e)&lt;br&gt;         {&lt;br&gt;             Response.Redirect(&lt;span style="color:#a31515"&gt;&amp;quot;~/Secure/Page2.aspx&amp;quot;&lt;/span&gt;);&lt;br&gt;         }&lt;br&gt;     }&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;p&gt;and on the login control:&lt;/p&gt;  &lt;pre&gt;onauthenticate=&amp;quot;OnAuthenticate&amp;quot; OnLoggedIn=&amp;quot;OnLoggedIn&amp;quot;&lt;/pre&gt;</Content>
      <Created>2012-04-02T13:22:52.78975-04:00</Created>
      <Modified>2012-04-02T13:22:52.78975-04:00</Modified>
      <EntryId>483232c9-7b82-472e-b285-50ae26e1ebf0</EntryId>
      <Description />
      <Title>Web Forms Authentication–Single Username and Password</Title>
      <Categories>Authentication</Categories>
      <Author>admin</Author>
      <IsPublic>true</IsPublic>
      <Syndicated>true</Syndicated>
      <ShowOnFrontPage>true</ShowOnFrontPage>
      <AllowComments>true</AllowComments>
      <Attachments />
      <Crossposts />
      <Latitude xsi:nil="true" />
      <Longitude xsi:nil="true" />
    </Entry>
  </Entries>
</DayEntry>